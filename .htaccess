<FilesMatch "\.(jpg|jpeg|png|gif|js|css|webp|ttf)$">
    Header set Cache-Control "max-age=315360000, public"
</FilesMatch>

RewriteEngine On
RewriteBase /
  RewriteEngine On
  RewriteBase /

  # Удаление "www" из URL
  RewriteCond %{HTTP_HOST} ^www\.(.*)$ [NC]
  RewriteRule ^(.*)$ https://%1/$1 [R=301,L]

  # Добавление слеша в конце URL, если его нет
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_URI} !(.*)/$
  RewriteRule ^(.*)$ /$1/ [R=301,L]

  # Удаление ".html" из URL
  RewriteCond %{REQUEST_FILENAME}.html -f
  RewriteRule ^([^/]+)$ $1.html [L]

  # Редирект с .html на URL без него
  RewriteCond %{REQUEST_URI} \.html$ [NC]
  RewriteRule ^(.*)\.html$ /$1 [R=301,L]
</IfModule>
